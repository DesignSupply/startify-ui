/*
 * Startify-UI
 * This project is licensed under the MIT License.
 * (c) 2024-present Shinya Ogawa
*/
(()=>{"use strict";var t=function(){function t(t){this.dataNameAccordion=t.dataNameAccordion,this.dataNameAccordionSummary=t.dataNameAccordionSummary,this.dataNameAccordionDetail=t.dataNameAccordionDetail,this.duration=t.duration,this.easing=t.easing,this.accordionElements=document.querySelectorAll('[data-su-js="'.concat(this.dataNameAccordion,'"]')),this.init()}return t.prototype.init=function(){var t=this;Array.from(this.accordionElements).forEach((function(e){var a,n=e;if(null===(a=n.querySelector("summary"))||void 0===a||a.addEventListener("click",(function(e){var a=e.currentTarget,o=n.querySelector(".".concat(t.dataNameAccordionDetail)),u="true"===a.getAttribute("aria-expanded"),i="true"===o.getAttribute("aria-hidden");a.setAttribute("aria-expanded",String(!u)),o.setAttribute("aria-hidden",String(!i))})),n.matches('[data-su-js="'.concat(t.dataNameAccordion,'"]'))){var o=n.querySelector('[data-su-js="'.concat(t.dataNameAccordionSummary,'"]')),u=n.querySelector('[data-su-js="'.concat(t.dataNameAccordionDetail,'"]'));null==o||o.addEventListener("click",(function(e){e.preventDefault(),null!==n.getAttribute("open")?(null==u?void 0:u.animate(t.closingAnimation(u),{duration:t.duration,easing:t.easing})).onfinish=function(){n.open=!1}:(n.open=!0,null==u||u.animate(t.openingAnimation(u),{duration:t.duration,easing:t.easing}))}))}}))},t.prototype.closingAnimation=function(t){return[{height:"".concat(t.offsetHeight,"px"),opacity:1},{height:0,opacity:0}]},t.prototype.openingAnimation=function(t){return[{height:0,opacity:0},{height:"".concat(t.offsetHeight,"px"),opacity:1}]},t}(),e=function(){function t(t){var e=this;this.handleEscapeKey=function(t){"Escape"===t.key&&(t.preventDefault(),e.modalElement.close())},this.dataNameModal=t.dataNameModal,this.dataNameModalOpen=t.dataNameModalOpen,this.dataNameModalClose=t.dataNameModalClose,this.modalElement=document.querySelector('[data-su-js="'.concat(this.dataNameModal,'"]')),this.modalOpenElement=document.querySelector('[data-su-js="'.concat(this.dataNameModalOpen,'"]')),this.modalCloseElement=document.querySelector('[data-su-js="'.concat(this.dataNameModalClose,'"]')),this.init()}return t.prototype.init=function(){var t=this;null!==this.modalElement&&null!==this.modalOpenElement&&null!==this.modalCloseElement&&(this.modalOpenElement.addEventListener("click",(function(e){t.open(e),t.toggleState(e.target)})),this.modalCloseElement.addEventListener("click",(function(e){t.close(e),t.toggleState(t.modalOpenElement)})),this.modalElement.addEventListener("click",(function(e){e.target===t.modalElement&&(t.close(e),t.toggleState(t.modalOpenElement))})))},t.prototype.open=function(t){t.preventDefault(),this.modalElement.showModal(),document.addEventListener("keydown",this.handleEscapeKey)},t.prototype.close=function(t){t.preventDefault(),this.modalElement.close(),document.removeEventListener("keydown",this.handleEscapeKey)},t.prototype.toggleState=function(t){var e="true"===t.getAttribute("aria-expanded");t.setAttribute("aria-expanded",String(!e))},t}(),a=function(){function t(t){this.dataNameRangeInput=t.dataNameRangeInput,this.dataNameRangeOutput=t.dataNameRangeOutput,this.rangeInputElements=document.querySelectorAll('[data-su-js="'.concat(this.dataNameRangeInput,'"]')),this.init()}return t.prototype.init=function(){var t=this;Array.from(this.rangeInputElements).forEach((function(e){var a,n=e,o=null===(a=n.parentElement)||void 0===a?void 0:a.querySelector('[data-su-js="'.concat(t.dataNameRangeOutput,'"]'));t.updateRangeBackground(n),o&&(o.textContent=t.updateRangeOutput(n).toString()),n.addEventListener("input",(function(e){t.updateRangeBackground(e.target),o&&(o.textContent=t.updateRangeOutput(e.target).toString())})),window.addEventListener("resize",(function(){t.updateRangeBackground(n)}))}))},t.prototype.remToPx=function(t){return t*parseFloat(window.getComputedStyle(document.documentElement).fontSize)},t.prototype.updateRangeBackground=function(t){var e,a=Number(t.value),n=Number(t.max),o=Number(t.min)||0,u=window.getComputedStyle(t).getPropertyValue("--su-size-button-range-input").trim();if(u)if(u.endsWith("rem")){var i=parseFloat(u.replace("rem",""));e=this.remToPx(i)}else e=u.endsWith("px")?parseFloat(u.replace("px","")):(isNaN(parseFloat(u)),0);else e=0;var r=e/t.getBoundingClientRect().width*100,l=n-o,d=0===r?(a-o)/l*100:(a-o)/l*(100-r)+r/2;t.style.background="linear-gradient(to right, \n      var(--su-color-fill-bar-range-input) 0%, \n      var(--su-color-fill-bar-range-input) ".concat(d,"%, \n      var(--su-color-bg-bar-range-input) ").concat(d,"%, \n      var(--su-color-bg-bar-range-input) 100%)\n    ")},t.prototype.updateRangeOutput=function(t){return Number(t.value)},t}(),n=function(){function t(t){this.dataNameRangeInputMultiple=t.dataNameRangeInputMultiple,this.dataNameRangeInputMultipleMin=t.dataNameRangeInputMultipleMin,this.dataNameRangeInputMultipleMax=t.dataNameRangeInputMultipleMax,this.dataNameRangeOutputMultipleMin=t.dataNameRangeOutputMultipleMin,this.dataNameRangeOutputMultipleMax=t.dataNameRangeOutputMultipleMax,this.rangeInputMultipleElements=document.querySelectorAll('[data-su-js="'.concat(this.dataNameRangeInputMultiple,'"]')),this.init()}return t.prototype.init=function(){var t=this;Array.from(this.rangeInputMultipleElements).forEach((function(e){var a=e,n=a.querySelector('[data-su-js="'.concat(t.dataNameRangeInputMultipleMin,'"]')),o=a.querySelector('[data-su-js="'.concat(t.dataNameRangeInputMultipleMax,'"]')),u=document.querySelector('[data-su-js="'.concat(t.dataNameRangeOutputMultipleMin,'"]')),i=document.querySelector('[data-su-js="'.concat(t.dataNameRangeOutputMultipleMax,'"]'));t.constrainRangeValues(n,o),t.updateRangeBackgrounds(n,o),t.updateOutputValues(n,o,u,i),n.addEventListener("input",(function(){t.constrainRangeValues(n,o),t.updateRangeBackgrounds(n,o),t.updateOutputValues(n,o,u,i)})),o.addEventListener("input",(function(){t.constrainRangeValues(n,o),t.updateRangeBackgrounds(n,o),t.updateOutputValues(n,o,u,i)})),window.addEventListener("resize",(function(){t.updateRangeBackgrounds(n,o)}))}))},t.prototype.constrainRangeValues=function(t,e){var a=Number(t.value),n=Number(e.value),o=Number(t.min)||0,u=Number(t.max)||100,i=Number(t.step)||1,r=Math.max(i,.01*(u-o));if(a>n-r){var l=Math.max(o,n-r);t.value=l.toString()}if(n<a+r){var d=Math.min(u,a+r);e.value=d.toString()}},t.prototype.updateOutputValues=function(t,e,a,n){a&&(a.textContent=t.value),n&&(n.textContent=e.value)},t.prototype.remToPx=function(t){return t*parseFloat(window.getComputedStyle(document.documentElement).fontSize)},t.prototype.updateRangeBackgrounds=function(t,e){var a=Number(t.value),n=Number(e.value),o=Number(t.min)||0,u=Number(t.max)||100,i=this.getThumbSizePx(t)/t.getBoundingClientRect().width*100,r=u-o,l=0===i?(a-o)/r*100:(a-o)/r*(100-i)+i/2,d=0===i?(n-o)/r*100:(n-o)/r*(100-i)+i/2;e.style.background="linear-gradient(to right, \n      var(--su-color-bg-bar-range-input) 0%, \n      var(--su-color-bg-bar-range-input) ".concat(l,"%, \n      var(--su-color-fill-bar-range-input) ").concat(l,"%, \n      var(--su-color-fill-bar-range-input) ").concat(d,"%, \n      var(--su-color-bg-bar-range-input) ").concat(d,"%, \n      var(--su-color-bg-bar-range-input) 100%)\n    ")},t.prototype.getThumbSizePx=function(t){var e=window.getComputedStyle(t).getPropertyValue("--su-size-button-range-input").trim();if(e){if(e.endsWith("rem")){var a=parseFloat(e.replace("rem",""));return this.remToPx(a)}if(e.endsWith("px"))return parseFloat(e.replace("px",""))}return 0},t}();new t({dataNameAccordion:"su-accordion",dataNameAccordionSummary:"su-accordion-summary",dataNameAccordionDetail:"su-accordion-detail",duration:400,easing:"ease-in-out"}),new e({dataNameModal:"su-modal",dataNameModalOpen:"su-modal-open",dataNameModalClose:"su-modal-close"}),new a({dataNameRangeInput:"su-form-range-input",dataNameRangeOutput:"su-form-range-output"}),new n({dataNameRangeInputMultiple:"su-form-range-input-multiple",dataNameRangeInputMultipleMin:"su-form-range-input-multiple-min",dataNameRangeInputMultipleMax:"su-form-range-input-multiple-max",dataNameRangeOutputMultipleMin:"su-form-range-output-multiple-min",dataNameRangeOutputMultipleMax:"su-form-range-output-multiple-max"})})();